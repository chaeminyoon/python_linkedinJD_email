# PRD: LinkedIn JD 자동 분석 시스템

## 1. 제품 개요

### 1.1 배경
- 캐나다 이직을 준비하는 사용자가 LinkedIn의 Data Engineer/Scientist 채용공고를 매일 확인하고 분석하는 데 많은 시간이 소요됨
- 트렌드에 맞는 기술 스택과 역량을 파악하여 체계적으로 준비할 필요가 있음

### 1.2 목표
- LinkedIn JD를 자동으로 수집하고 AI로 분석하여 매일 아침 이메일 리포트 제공
- 사용자가 준비해야 할 역량의 우선순위를 명확히 제시

### 1.3 핵심 가치
- **시간 절약**: 수동 검색/분석 → 자동화
- **인사이트 제공**: 단순 JD 나열이 아닌 트렌드 분석
- **실행 가능성**: 구체적인 준비 방향 제시

---

## 2. 사용자 스토리

### 2.1 주요 사용자
- 캐나다 Data Engineer/Scientist 직무로 이직을 준비하는 개발자

### 2.2 사용 시나리오
```
매일 아침 7시, 사용자는 이메일로 다음 정보를 받는다:
1. 어제 새로 올라온 캐나다 Data Engineer/Scientist JD 목록
2. 각 JD에서 요구하는 기술 스택과 역량 요약
3. 전체 JD 기반 기술 스택 빈도 분석 (예: Python 90%, SQL 85%, Spark 60%)
4. 이번 주/이번 달 트렌드 변화
5. 준비 우선순위 추천
```

---

## 3. 기능 요구사항

### 3.1 JD 수집 (Scraper Module)
| ID | 기능 | 우선순위 | 상세 |
|----|------|----------|------|
| F1.1 | LinkedIn Jobs 검색 | P0 | Canada 지역 + Data Engineer/Scientist 키워드 |
| F1.2 | 최신 JD 필터링 | P0 | 24시간 이내 게시된 공고만 수집 |
| F1.3 | JD 상세 정보 추출 | P0 | 회사명, 직무명, 위치, 설명, 요구사항 |
| F1.4 | 중복 제거 | P1 | 이미 수집한 JD는 스킵 |
| F1.5 | 다중 키워드 검색 | P2 | Data Scientist, ML Engineer 등 확장 |

### 3.2 JD 분석 (Analyzer Module)
| ID | 기능 | 우선순위 | 상세 |
|----|------|----------|------|
| F2.1 | 기술 스택 추출 | P0 | Python, SQL, Spark, AWS 등 |
| F2.2 | 경력 요건 추출 | P0 | "3+ years experience" 등 파싱 |
| F2.3 | 학력 요건 추출 | P1 | Bachelor's, Master's 등 |
| F2.4 | 비자 스폰서십 확인 | P1 | 스폰서십 제공 여부 파악 |
| F2.5 | 빈도 분석 | P0 | 전체 JD에서 기술별 등장 빈도 |
| F2.6 | 트렌드 분석 | P2 | 주간/월간 기술 트렌드 변화 |

### 3.3 리포트 생성 (Reporter Module)
| ID | 기능 | 우선순위 | 상세 |
|----|------|----------|------|
| F3.1 | HTML 리포트 생성 | P0 | 보기 좋은 이메일 템플릿 |
| F3.2 | JD 요약 카드 | P0 | 각 JD별 핵심 정보 카드 형식 |
| F3.3 | 기술 스택 차트 | P1 | 빈도 기반 바 차트 |
| F3.4 | 준비 우선순위 | P0 | AI 기반 추천 |

### 3.4 알림 (Notifier Module)
| ID | 기능 | 우선순위 | 상세 |
|----|------|----------|------|
| F4.1 | 이메일 발송 | P0 | Gmail SMTP |
| F4.2 | 스케줄링 | P0 | 매일 아침 7시 자동 실행 |
| F4.3 | 발송 실패 재시도 | P1 | 실패 시 3회 재시도 |

---

## 4. 비기능 요구사항

| 항목 | 요구사항 |
|------|----------|
| 안정성 | LinkedIn 차단 방지를 위한 rate limiting |
| 보안 | API 키, 비밀번호 등 환경변수 관리 |
| 확장성 | 새로운 직무/지역 쉽게 추가 가능 |
| 유지보수 | 모듈화된 구조, 로깅 |

---

## 5. 기술 아키텍처

```
┌─────────────────────────────────────────────────────────────┐
│                        Scheduler                             │
│                   (APScheduler/Cron)                         │
└─────────────────────────┬───────────────────────────────────┘
                          │
                          ▼
┌─────────────────────────────────────────────────────────────┐
│                      Main Orchestrator                       │
│                        (main.py)                             │
└───────┬─────────────────┬─────────────────┬─────────────────┘
        │                 │                 │
        ▼                 ▼                 ▼
┌───────────────┐ ┌───────────────┐ ┌───────────────┐
│   Scraper     │ │   Analyzer    │ │   Notifier    │
│   Module      │ │   Module      │ │   Module      │
│               │ │               │ │               │
│ - Selenium    │ │ - OpenAI API  │ │ - SMTP Email  │
│ - BeautifulSoup│ │ - 기술 추출   │ │ - HTML 템플릿  │
└───────────────┘ └───────────────┘ └───────────────┘
        │                 │                 │
        ▼                 ▼                 ▼
┌─────────────────────────────────────────────────────────────┐
│                      Data Storage                            │
│                   (JSON/SQLite)                              │
└─────────────────────────────────────────────────────────────┘
```

---

## 6. Sub-Agents 구성

시스템을 병렬로 개발하기 위한 sub-agent 역할 분담:

### Agent 1: Scraper Developer
**담당**: JD 수집 모듈 개발
- LinkedIn Jobs 페이지 스크래핑
- Selenium WebDriver 설정
- 데이터 추출 및 정제
- Rate limiting 구현

### Agent 2: Analyzer Developer
**담당**: JD 분석 모듈 개발
- OpenAI API 연동
- 프롬프트 엔지니어링
- 기술 스택/역량 추출 로직
- 빈도 분석 알고리즘

### Agent 3: Notifier Developer
**담당**: 알림 모듈 개발
- 이메일 발송 로직
- HTML 리포트 템플릿 (Jinja2)
- 스케줄러 설정

### Agent 4: Integrator
**담당**: 통합 및 설정
- main.py 오케스트레이션
- 환경변수 설정
- 데이터 저장소 관리
- 전체 파이프라인 테스트

---

## 7. 개발 일정 (Phase)

### Phase 1: 기반 구축
- 프로젝트 구조 생성
- 설정 파일 작성
- 의존성 설치

### Phase 2: 핵심 기능 개발 (병렬)
- Scraper 모듈
- Analyzer 모듈
- Notifier 모듈

### Phase 3: 통합 및 테스트
- 모듈 통합
- End-to-end 테스트
- 버그 수정

### Phase 4: 배포
- 스케줄러 설정
- 문서화

---

## 8. 성공 지표

| 지표 | 목표 |
|------|------|
| JD 수집 성공률 | 95% 이상 |
| 기술 스택 추출 정확도 | 90% 이상 |
| 이메일 발송 성공률 | 99% 이상 |
| 일일 처리 시간 | 10분 이내 |

---

## 9. 리스크 및 대응

| 리스크 | 대응 방안 |
|--------|----------|
| LinkedIn 스크래핑 차단 | Rate limiting, 헤드리스 브라우저 설정, 필요시 LinkedIn API 검토 |
| OpenAI API 비용 | 토큰 사용량 모니터링, 필요시 로컬 LLM 대안 |
| JD 형식 변경 | 유연한 파싱 로직, 정기적 유지보수 |
